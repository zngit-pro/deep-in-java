CMS(Concurrent Mark-Sweep)是以牺牲吞吐量为代价来获得最短回收停顿时间。对于要求服务器响应速度的应用上，这种垃圾回收器非常适合。
在启动JVM参数加上-XX:+UseConcMarkSweepGC ，这个参数表示对于老年代的回收采用CMS。CMS采用的基础算法是：标记—清除。

使用场景：
1、应用程序对停顿比较敏感，并且在应用程序运行的时候可以提供更大的内存和更多的CPU
2、在JVM中，有相对较多存活时间较长的对象(老年代比较大)会更适合使用CMS。

CMS 开始初始化标记-----------------老年代内存-已使用106000K>老年代内存总共2097152K-----堆内存已经使用1084619K,堆内存一共3984640K 初始化标记阶段耗时0.2824583 secs
2020-10-29T21:19:19.488+0800: 114.015: [GC (CMS Initial Mark) [1 CMS-initial-mark: 106000K(2097152K)] 1084619K(3984640K), 0.2824583 secs] [Times: user=0.86 sys=0.00, real=0.28 secs]
开始并发标记-----------------
2020-10-29T21:19:19.771+0800: 114.298: [CMS-concurrent-mark-start]
标记阶段,会遍历整个年老代并且标记活着的对象 ,耗时0.16 secs
2020-10-29T21:19:19.931+0800: 114.458: [CMS-concurrent-mark: 0.160/0.160 secs] [Times: user=0.32 sys=0.03, real=0.16 secs]
开始并发预清理
2020-10-29T21:19:19.931+0800: 114.459: [CMS-concurrent-preclean-start]
并发预清理 阶段耗时0.066 secs
2020-10-29T21:19:19.998+0800: 114.525: [CMS-concurrent-preclean: 0.065/0.066 secs] [Times: user=0.05 sys=0.01, real=0.06 secs]
并发可中止的预清理
2020-10-29T21:19:19.998+0800: 114.525: [CMS-concurrent-abortable-preclean-start]CMS: abort preclean due to time
并发可中止的预清理 耗时5.073 secs
2020-10-29T21:19:25.072+0800: 119.599: [CMS-concurrent-abortable-preclean: 5.038/5.073 secs] [Times: user=7.72 sys=0.50, real=5.08 secs]
标记老年代全部的存活对象 年轻代已使用内存1279357k,年轻代内存共1887488K,
2020-10-29T21:19:25.076+0800: 119.603: [GC (CMS Final Remark) [YG occupancy: 1279357 K (1887488 K)]
这个阶段在应用停止的阶段完成存活对象的标记,耗时0.3120602 secs
2020-10-29T21:19:25.076+0800: 119.603: [Rescan (parallel) , 0.3120602 secs]
弱引用处理
2020-10-29T21:19:25.388+0800: 119.915: [weak refs processing, 0.0015920 secs]
卸载class
2020-10-29T21:19:25.390+0800: 119.917: [class unloading, 0.0517863 secs]
2020-10-29T21:19:25.441+0800: 119.969: [scrub symbol table, 0.0212825 secs]
回收之后老年代内存占用106000K(2097152K可用),堆内存占用1385358K(3984640K可用),耗时0.3959182 secs
2020-10-29T21:19:25.463+0800: 119.990: [scrub string table, 0.0022435 secs][1 CMS-remark: 106000K(2097152K)] 1385358K(3984640K), 0.3959182 secs] [Times: user=1.33 sys=0.00, real=0.40 secs]
清除那些没有标记的无用对象并回收内存,耗时0.067 secs
2020-10-29T21:19:25.473+0800: 120.000: [CMS-concurrent-sweep-start]
2020-10-29T21:19:25.540+0800: 120.067: [CMS-concurrent-sweep: 0.067/0.067 secs] [Times: user=0.18 sys=0.02, real=0.06 secs]
重置CMS,未下一次使用做准备,耗时0.003 secs
2020-10-29T21:19:25.540+0800: 120.068: [CMS-concurrent-reset-start]
2020-10-29T21:19:25.544+0800: 120.071: [CMS-concurrent-reset: 0.003/0.003 secs] [Times: user=0.00 sys=0.00, real=0.01 secs]